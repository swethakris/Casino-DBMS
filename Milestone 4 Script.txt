----------------------------
CREATE
----------------------------

CREATE SEQUENCE MEMBERSHIP_CODE_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;
CREATE SEQUENCE TRANSACTION_CODE_SEQ START WITH 1 INCREMENT BY 1 NOCACHE;

CREATE TABLE GAMES (
 GAME_ID    INTEGER NOT NULL 
 CONSTRAINT GAME_ID_PK PRIMARY KEY,
 GAME_TYPE VARCHAR(30) NOT NULL,
 GAME_NAME   VARCHAR(30)   NOT NULL);

CREATE TABLE OFFERS (
 OFFER_ID    INTEGER NOT NULL 
 CONSTRAINT OFFER_ID_PK PRIMARY KEY,
 OFFER_DESC VARCHAR(30) NOT NULL,
 OFFER_VALIDITY   VARCHAR(30)   NOT NULL);

CREATE TABLE CARD (
 CARD_ID    INTEGER NOT NULL 
 CONSTRAINT CARD_ID_PK PRIMARY KEY,
 CARD_TYPE VARCHAR(30) NOT NULL,
 CARD_TIER   VARCHAR(30)   NOT NULL);

CREATE TABLE MEMBERSHIP (
 MEMBERSHIP_ID    INTEGER NOT NULL 
 CONSTRAINT MEMBERSHIP_ID_PK PRIMARY KEY,
 MEMBERSHIP_LNAME VARCHAR(30) NOT NULL,
 MEMBERSHIP_FNAME   VARCHAR(30)   NOT NULL,
 MEMBERSHIP_ADDRESS     VARCHAR(200)    NOT NULL,
 MEMBERSHIP_DOB     DATE    NOT NULL,
 MEMBERSHIP_PHONENUMBER     INTEGER    NOT NULL,
 MEMBERSHIP_NATIONALITY     VARCHAR(50)    NOT NULL,
 MEMBERSHIP_BETSINCELASTCLAIMED     INTEGER    NOT NULL,
 OFFER_ID     INTEGER,
 CARD_ID INTEGER,
 FOREIGN KEY (OFFER_ID) REFERENCES OFFERS,
 FOREIGN KEY (CARD_ID) REFERENCES CARD);

CREATE TABLE TRANSACTION (
 TRNASACTION_ID    INTEGER NOT NULL 
 CONSTRAINT TRANSACTION_ID_PK PRIMARY KEY,
 TRANSACTION_BIGAMOUNT INTEGER NOT NULL,
 TRANSACTION_WINORLOSSFLAG   INTEGER   NOT NULL,
 TRANSACTION_WINORLOSSAMOUNT     SMALLINT    NOT NULL,
 TRANSACTION_DATE    DATE    NOT NULL,
 GAME_ID     INTEGER,
 MEMBERSHIP_ID INTEGER,
 FOREIGN KEY (GAME_ID) REFERENCES GAMES,
 FOREIGN KEY (MEMBERSHIP_ID) REFERENCES MEMBERSHIP);

------------------------
INSERT
------------------------

INSERT INTO GAMES VALUES(1,'SLOTS','JACKPOT')
INSERT INTO GAMES VALUES(2,'TABLE','ROULETTE')
INSERT INTO GAMES VALUES(3,'TABLE','BLACKJACK')
INSERT INTO GAMES VALUES(4,'TABLE','POKER')

INSERT INTO TRANSACTION VALUES(TRANSACTION_CODE_SEQ.NEXTVAL,1000,1,2000,TO_DATE('10/06/2015','DD/MM/YYYY'),1,1)
INSERT INTO TRANSACTION VALUES(TRANSACTION_CODE_SEQ.NEXTVAL,600,0,400,TO_DATE('10/20/2015','DD/MM/YYYY'),1,2)
INSERT INTO TRANSACTION VALUES(TRANSACTION_CODE_SEQ.NEXTVAL,1400,1,5000,TO_DATE('11/06/2015','DD/MM/YYYY'),3,3)
INSERT INTO TRANSACTION VALUES(TRANSACTION_CODE_SEQ.NEXTVAL,800,1,3000,TO_DATE('11/14/2015','DD/MM/YYYY'),2,4)
